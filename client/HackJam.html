<head>
	<title>Task Manager Test</title>
	<link href="bootstrap/bootstrap.css">
	<link href="bootstrap/login.css">
	<script link="bootstrap/bootstrap.js"></script>
	<link rel="stylesheet" href="//code.jquery.com/ui/1.11.3/themes/smoothness/jquery-ui.css">
  	<script src="//code.jquery.com/jquery-1.10.2.js"></script>
	<script src="//code.jquery.com/ui/1.11.3/jquery-ui.js"></script>
	<script>
		$(function() {
	    	$( "#datepicker" ).datepicker();
	  	});
	</script>

	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
</head>

<body>
	{{#if currentUser}}
	<header>
		<h3>CalWork</h3>
		{{> loginButtons}}
	</header>
	<div class="main" role="main">

		<h3>Quick Add</h3>
		<div class="row">
			<div class="col-xs-3">
				<h6 class="center">Course Code</h6>
			</div>
			<div class="col-xs-3">
				<h6 class="center">Title</h6>
			</div>
			<div class="col-xs-2">
				<h6 class="center">Due Date</h6>
			</div>
			<div class="col-xs-3">
				<h6 class="center">Comments</h6>
			</div>
		</div>

		<form class="new-task"> 
			<div class="row">
				<div class="col-xs-3">
					<input type="text" name="course" placeholder="Enter Course Code">
				</div>
				<div class="col-xs-3">
					<input type="text"  name="title" placeholder="Enter Assignment Title">
				</div>
				<div class="col-xs-2">
					<input name="date" placeholder="Enter Due Date" id="datepicker">
				</div>
				<div class="col-xs-3">
					<input type="text" name="notes" placeholder="Enter Assignment Notes">
				</div>
				<div class="col-xs-12 col-md-1">
					<input type="submit" value="Submit">
				</div>
			</div>
		</form>
	</div>

	<div class="main">
		<h3>Homework</h3>
		<div class="panel-group" id="accordion" role="tablist">
			{{#each courses}}
				{{> course}}
			{{/each}}
		</div>
	</div>

	<div class="main">
		<h4>Class Management</h4>
	  	<form class="new-course">
			<input type="text" name="classid" placeholder="Course Code">
			<input type="submit" value="Submit">
		</form>
	</div>
	{{else}}
		<header>
			<h3>CalWork</h3>
		</header>
		<div class="main" role="main">
			{{> loginButtons}}
		</div>
	{{/if}}
</body>

<template name="course">
	<div class="panel panel-default">
    	<div class="panel-heading" role="tab" id="heading{{course}}">
  			<h4 class="panel-title">
    			<a class="collapsed" data-toggle="collapse" data-parent="#accordion" href="#collapse{{course}}" aria-expanded="false" aria-controls="collapse{{course}}">
      				{{course}}
    			</a>
      		</h4>
    	</div>
    	<div id="collapse{{course}}" class="panel-collapse collapse" role="tabpanel" aria-labelledby="heading{{course}}">
      		<div class="panel-body">
      			{{#if assignments course}}
	      			<div class="row">
						<div class="col-xs-3">
							<h6>Title</h6>
						</div>
						<div class="col-xs-2">
							<h6>Due Date</h6>
						</div>
						<div class="col-xs-5">
							<h6>Comments</h6>
						</div>
					</div>
	        		{{#each tasks course}}
						{{> task}}
					{{/each}}
				{{else}}
					<h5>No Assignments due</h5>
				{{/if}}
      		</div>
    	</div>
  	</div>
</template>

<template name="task">	
	<hr style="margin:2px">
	<div class="{{#if checked}} item {{/if}}row">
		<div class="col-xs-3 {{#if checked}}checked {{else}} item {{/if}} ">
			<p>{{title}}</p>
		</div>
		<div class="col-xs-2 {{#if checked}}checked {{else}} item {{/if}} ">
			<p>{{date}}</p>
		</div>
		<div class="col-xs-5 {{#if checked}}checked {{else}} item {{/if}} ">
			<p>{{notes}}</p>
		</div>
		{{#if checked}}
		<div class="col-xs-1">&nbsp;</div>
		<div class="col-xs-1"><button class="undo">Restore</button></div>{{/if}}
	</div>
</template>